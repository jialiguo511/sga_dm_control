---
title: "Diagnosis, medication and procedure codes used for defining covariates and outcomes"
output: html_document
---

```{r setup, include=FALSE}
library(tidyverse)
library(gt)

```


```{r data, echo=FALSE}
tbl <- tribble(
  ~Group, ~`Diagnosis / Measure`, ~`Codes / Definitions`,
  # Mental Health
  "Mental Health", "Bipolar/Manic", "F30, F31",
  "Mental Health", "Delusional", "F22",
  "Mental Health", "Depressive Episode or MDD", "F32, F33",
  "Mental Health", "Schizoaffective", "F25",
  "Mental Health", "Schizophrenia", "F20",
  "Mental Health", "Schizotypal", "F21",

  # Cardiometabolic
  "Cardiometabolic", "Hypertension", "E78, SBP ≥140 or DBP ≥90 mmHg",
  "Cardiometabolic", "Hyperlipidemia", "I10, I11, I12, I13, I15, I16; LDL: 13457-7, 18262-6, 2089-1, 11054-4; HDL: 18263-4, 2085-9; Triglycerides: 12951-0, 2571-8",
  "Cardiometabolic", "Cardiovascular", "I05, I06, I08, I20, I24, I25, I34, I35, I44, I45, I47, I48, I49, I70, I72, I73, I75, I77",
  "Cardiometabolic", "Polycystic Ovarian Syndrome", "E28.2",
  "Cardiometabolic", "Pulmonary", "J41, J42, J43, J44, J96, I26.9, I27",
  "Cardiometabolic", "Obesity", "E66.0, E66.1, E66.2, E66.8, E66.9; Body Mass Index (BMI ≥30 kg/m^2)",

  # Charlson Comorbidity Index
  "Charlson Comorbidity Index", "Myocardial infarction", "I21.x, I22.x, I25.2",
  "Charlson Comorbidity Index", "Congestive heart failure", "I09.9, I11.0, I13.0, I13.2, I25.5, I42.0, I42.5–I42.9, I43.x, I50.x, P29.0",
  "Charlson Comorbidity Index", "Peripheral vascular disease", "I70.x, I71.x, I73.1, I73.8, I73.9, I77.1, I79.0, I79.2, K55.1, K55.8, K55.9, Z95.8, Z95.9",
  "Charlson Comorbidity Index", "Cerebrovascular disease", "G45.x, G46.x, H34.0, I60.x–I69.x",
  "Charlson Comorbidity Index", "Dementia", "F00.x–F03.x, F05.1, G30.x, G31.1",
  "Charlson Comorbidity Index", "Chronic pulmonary disease", "I27.8, I27.9, J40.x–J47.x, J60.x–J67.x, J68.4, J70.1, J70.3",
  "Charlson Comorbidity Index", "Rheumatic disease", "M05.x, M06.x, M31.5, M32.x–M34.x, M35.1, M35.3, M36.0",
  "Charlson Comorbidity Index", "Peptic ulcer disease", "K25.x–K28.x",
  "Charlson Comorbidity Index", "Mild liver disease", "B18.x, K70.0–K70.3, K70.9, K71.3–K71.5, K71.7, K73.x, K74.x, K76.0, K76.2–K76.4, K76.8, K76.9, Z94.4",
  "Charlson Comorbidity Index", "Diabetes without chronic complication", "E10.0, E10.l, E10.6, E10.8, E10.9, E11.0, E11.1, E11.6, E11.8, E11.9, E12.0, E12.1, E12.6, E12.8, E12.9, E13.0, E13.1, E13.6, E13.8, E13.9, E14.0, E14.1, E14.6, E14.8, E14.9",
  "Charlson Comorbidity Index", "Diabetes with chronic complication", "E10.2–E10.5, E10.7, E11.2–E11.5, E11.7, E12.2–E12.5, E12.7, E13.2–E13.5, E13.7, E14.2–E14.5, E14.7",
  "Charlson Comorbidity Index", "Hemiplegia or paraplegia", "G04.1, G11.4, G80.1, G80.2, G81.x, G82.x, G83.0–G83.4, G83.9",
  "Charlson Comorbidity Index", "Renal disease", "I12.0, I13.1, N03.2–N03.7, N05.2–N05.7, N18.x, N19.x, N25.0, Z49.0–Z49.2, Z94.0, Z99.2",
  "Charlson Comorbidity Index", "Any malignancy (incl. lymphoma/leukemia), except skin", "C00.x–C26.x, C30.x–C34.x, C37.x–C41.x, C43.x, C45.x–C58.x, C60.x–C76.x, C81.x–C85.x, C88.x, C90.x–C97.x",
  "Charlson Comorbidity Index", "Moderate or severe liver disease", "I85.0, I85.9, I86.4, I98.2, K70.4, K71.1, K72.1, K72.9, K76.5–K76.7",
  "Charlson Comorbidity Index", "Metastatic solid tumor", "C77.x–C80.x",
  "Charlson Comorbidity Index", "AIDS/HIV", "B20.x–B22.x, B24.x",

  # Outcomes
  "Outcomes", "HbA1c", "4548-4, 41995-2, 55454-3, 71875-9, 549-2, 17856-6, 59261-6, 62388-4, 17855-8",
  "Outcomes", "LDL Cholesterol", "13457-7, 18262-6, 2089-1, 11054-4",
  "Outcomes", "Renal Function", "estimated glomerular filtration rate: 98979-8, 98980-6; urinary albumin-creatinine ratio: 32294-1; nephropathy: 80047, 80048, 80050, 80053, 80069, 82565, 82043, 82570"
)
```


```{r table, echo=FALSE}

gt(tbl, groupname_col = "Group") |>
  tab_header(
    title = md("**Table 1. Diagnosis, medication and procedure codes used for defining covariates and outcomes**")
  ) |>
  cols_label(
    `Diagnosis / Measure` = "Diagnosis / Measure",
    `Codes / Definitions` = "Diagnosis (ICD-10-CM), Procedure (CPT), Labs (LOINC) / Definitions"
  ) |>
  cols_width(
    `Diagnosis / Measure` ~ px(260),
    `Codes / Definitions` ~ px(560)
  ) |>
  tab_options(
    table.width = px(860),
    data_row.padding = px(4),
    row_group.as_column = FALSE
  ) |>
  opt_table_outline() |>
  tab_source_note(md("Abbreviations: ICD-10-CM, International Classification of Diseases, 10th Revision, Clinical Modification; CPT, Current Procedural Terminology; LOINC, Logical Observation Identifiers Names and Codes; BMI, Body Mass Index; SBP/DBP, systolic/diastolic blood pressure."))


```

